<Window x:Class="PL.Engineer.EngineerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PL.Engineer"
        mc:Ignorable="d"
        Title="EngineerWindow" Height="480" Width="800">
    <Grid >
        <Grid Margin="0,0,552,0" VerticalAlignment="Top" >
            <!-- Personal Information Section -->
            <StackPanel Background="LightGray" Margin="0,10,0,0" >
                <Image HorizontalAlignment="Left" Height="75" Width="85" Source="YourImagePathHere.png"/>
                <TextBlock Text="Personal Information:" FontSize="16" FontWeight="Bold" Margin="0,10,0,5"/>
                <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                    <Label Content="Id:" Width="50" VerticalAlignment="Center"/>
                    <Label Content="{Binding CurrentEngineerUser.Id}" BorderBrush="#FF22026C" BorderThickness="1.5" VerticalAlignment="Center"/>
                </StackPanel>
                <StackPanel  Orientation="Horizontal" Margin="0,5,0,0">
                    <Label Content="Name:" Width="50" VerticalAlignment="Center"/>
                    <Label Content="{Binding CurrentEngineerUser.Name}" BorderBrush="#FF22026C" BorderThickness="1.5" VerticalAlignment="Center"/>
                </StackPanel>
                <Button Content="Edit" Margin="0,10,0,0" Height="30" Click="EditEngineer_Click" Background="#007ACC" Foreground="White"/>
            </StackPanel>

            <!-- Current Task Section -->
            <StackPanel Background="LightGray" Margin="0,268,0,-173" >
                <TextBlock Text="Current Task:" FontSize="16" FontWeight="Bold" Margin="0,10,0,5"/>
                <StackPanel Orientation="Horizontal" Margin="0,5,0,0" RenderTransformOrigin="0.5,0.5">
                    <StackPanel.RenderTransform>
                        <TransformGroup>
                            <ScaleTransform/>
                            <SkewTransform/>
                            <RotateTransform Angle="-0.072"/>
                            <TranslateTransform/>
                        </TransformGroup>
                    </StackPanel.RenderTransform>
                    <Label Content="Id:" Width="50" VerticalAlignment="Center"/>
                    <Label Content="{Binding CurrentEngineerUser.Task.Id}" BorderBrush="#FF22026C" BorderThickness="1.5" VerticalAlignment="Center"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                    <Label Content="Alias:" Width="50" VerticalAlignment="Center"/>
                    <Label Content="{Binding CurrentEngineerUser.Task.Alias}" BorderBrush="#FF22026C" BorderThickness="1.5" VerticalAlignment="Center"/>
                </StackPanel>
                <Button Content="Edit" Margin="0,10,0,0" Height="30" Click="EditTask_Click" Background="#007ACC" Foreground="White"/>
                <ProgressBar Height="20" Margin="0,10,0,0"/>
            </StackPanel>
        </Grid>

        <!-- Action Section -->
        <Grid Margin="248,0,0,0" VerticalAlignment="Top">
            <TextBlock Text="What would you like to do?" FontSize="24" FontWeight="Bold" HorizontalAlignment="Left" Margin="111,71,0,-51"/>
            <TextBlock Text="Hello" FontSize="28" HorizontalAlignment="Left" Margin="32,22,0,0"/>
            <TextBlock FontSize="28" HorizontalAlignment="Left" Margin="106,22,0,0">
                <TextBlock.Text>
                    <MultiBinding StringFormat="{}{0}!">
                        <Binding Path="CurrentEngineerUser.Name"/>
                    </MultiBinding>
                </TextBlock.Text>
            </TextBlock>

            <!-- Task Completed Section -->
            <StackPanel Margin="10,131,0,-51" Background="#F5F5F5">
                <TextBlock Text="To mark your current task as completed, please press -&gt;"/>
                <Button Content="Task Completed" Width="210" Height="61" Margin="0,10,0,0" Click="taskCompleted_Click"
                        IsEnabled="{Binding CurrentEngineerUser.Task, Converter={StaticResource AssignedTaskToBoolConverterKey}, Mode=TwoWay}"
                        Background="#4CAF50" Foreground="White"/>
            </StackPanel>

            <!-- Start Task Section -->
            <StackPanel Margin="5,272,5,-242" Background="#F5F5F5">
                <TextBlock>
                    <Run Text="To start a new task, please choose from the following:"/>
                    <LineBreak/>
                    <Run Text="Note! You can only start a new task if you completed the previous one."/>
                </TextBlock>
                <ComboBox x:Name="tasksForEngineer" Width="437" Height="47" Margin="0,10,0,0"
          ItemsSource="{Binding AvailableTasks}" SelectionChanged="tasksForEngineer_SelectionChanged"
          IsEnabled="{Binding CurrentEngineerUser.Task, Mode=TwoWay, Converter={StaticResource AssignedTaskToBoolConverterReverseKey}}">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="{Binding Id}"/>
                                <TextBlock Margin="0,15,0,0" Text="{Binding Alias}"/>
                                <Expander VerticalAlignment="Bottom" Header="Details" IsExpanded="False" Margin="0,30,0,0" >
                                    <!-- Expander Content -->
                                    <ContentPresenter Content="{Binding}">
                                        <ContentPresenter.ContentTemplate>
                                            <DataTemplate>
                                                <TextBox Text="{Binding Path=., Mode=OneWay}" />
                                            </DataTemplate>
                                        </ContentPresenter.ContentTemplate>
                                    </ContentPresenter>
                                </Expander>
                            </Grid>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>








                <Button Content="Start task" Width="228" Margin="0,10,0,0" Click="assignTask_Click"
                        IsEnabled="{Binding CurrentEngineerUser.Task, Mode=TwoWay, Converter={StaticResource AssignedTaskToBoolConverterReverseKey}}"
                        Background="#007ACC" Foreground="White"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
